<script>

    // My enum class to represent the different moves or plays
    const plays = {
        ROCK: "rock",
        PAPER: "paper",
        SCISSORS: "scissors",

    };
    // Prompts the user to enter a move
    function getUser() {
        let input = window.prompt("Rock, Paper, or Scissors?");
        switch (input.toLowerCase()) {
            case "rock":
                return plays.ROCK;
                break;
            case "paper":
                return plays.PAPER;
                break;
            case "scissors":
                return plays.SCISSORS;
                break;
        }
    }
    // Determines the computer's randome move every turn
    function computerPlay() {
        let random = Math.floor((Math.random()*3))
        switch (random){
            case 0 :
                return plays.ROCK;
                break;
            case 1:
                return plays.PAPER;
                break;
            case 2:
                return plays.SCISSORS;
                break;
        }

    }
    // Plays out every round, and determines winner of every round
    function playRound(playerSelection, computerSelection) { 
        switch (playerSelection) {
            case computerSelection:
                return "It's a tie! "+ playerSelection +" vs " +computerSelection ;
                break;
            case plays.ROCK:
                switch (computerSelection) {
                    case plays.PAPER: 
                        return "You Lose! Paper beats rock";
                        break;
                    case plays.SCISSORS:
                        return "You Win! Rock beats scissors";
                        break;
                }
                break;
            case plays.PAPER:
                switch (computerSelection) {
                    case plays.SCISSORS: 
                        return "You Lose! Scissors beats paper";
                        break;
                    case plays.ROCK:
                        return "You Win! Paper beats rock";
                        break;
                }
                break;
            case plays.SCISSORS: 
                switch (computerSelection) {
                    case plays.ROCK:
                        return "You Lose! Rock beats scissors";
                        break;

                    case plays.PAPER: 
                        return "You Win! Scissors beats paper";
                        break;
                }
            break;


        // }
        }
    }
    // Runs the playRound function to play out every round, 
    // determines score
    function game() {
        let score = 0;
        let wins = 0;
        let losses = 0;

        for (i = 0; i < 5; i++) {
            const playerSelection = getUser()
            const computerSelection = computerPlay()
            playRound(playerSelection, computerSelection)
            console.log(playRound(playerSelection, computerSelection))
            switch (playRound(playerSelection,computerSelection).charAt(4)) {
                case 'W':
                    wins++;
                    break;
                case 'L':
                    losses--;
                    break;
                default:
                    score+= 0;
                    break;
            }
        
        }
        score = wins + losses;
        score = score.toString();
        wins = wins.toString();
        losses=losses.toString();

        return score + " " + wins + " " + losses;
    }
    // Determines the winner, splitting the string to show score 
    //values
    function winner(value) {
        let score = value.split(" ");

        switch (true) {
            case (score[0] > 0):
                return "You win with a score of " + score[1] + " to " + Math.abs(score[2]);
                break;
            case (score[0] < 0): 
                return "You lose with a score of " + score[1] + " to " + Math.abs(score[2]);
                break;
            default:
                return "You tied with a score of " + score[1] + " to " + Math.abs(score[2]);
                break;
        }

    }
    

    
    // Runs output to the console
    console.log(winner(game()))
    


    
</script>